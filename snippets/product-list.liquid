{% for product in product %}
    {% render 'product-card', product: product, layout: settings.collection_card %}
{% endfor %}

<script>
    // Define an array to store product data
    var cartProductData = [],
        parent = '{{ parentWrapper }}';

    {% for product in product %}
            // Add each product's data to the array
            cartProductData.push({
            sectionId: document.querySelector(parent),
            id: {{ product.id | json }},
            title: {{ product.title | json }},
            variants: {{ product.variants | json }},
        });
    {% endfor %}
</script>

{% render 'product-form', cartProductData: cartProductData %}